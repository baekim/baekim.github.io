{"componentChunkName":"component---src-templates-post-template-tsx","path":"/ë„¤ì´ë²„_ì˜í™”_í˜ì´ì§€_í¬ë¡¤ë§/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2a822c9f08b8b04d5922ffd06c91e53f/b5600/python_mongo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.5625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcRAAAXEQHKJvM/AAABLklEQVQoz42S3UoCURSFTxNSoXThT2TqmKLUpDOOozOoZDJkImUgKmGDV3XhA9R9j1Nv+YXHSSxM52JxNpt1FnvttcWelWUdoqrurLf2NhFERUXoKkpt2Vd8/HBWvF2CsqFnOO4XSEwuEFoSYZwhdB+VNCE7z34996/ob8FaFqGlybxeYX7YaI9dqtM+de+B8rhLeXLH+H3O6G3OYaOIMDMBJjRVQo0c4ZsckaZG3LU47da4HLpEOwZx1+Tk1pKTBtih/xpJIm6P0mxGtJ0n3NJI9xyKgzaxjsGBU5D2d1teLH9hu5Sk+TLh8+sZ+6mF4w2pT+8lHG9AwjVXggFSVhFmliMnRew6hagsE5bp6n5I/u6CpSxtL0UXYrL2T0Wxzrfe4EbBdbIS4JD//v0Gi3QUbHvjgxYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2a822c9f08b8b04d5922ffd06c91e53f/a59e9/python_mongo.webp 192w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/0ca9f/python_mongo.webp 384w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/dc9b9/python_mongo.webp 768w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/e2c2f/python_mongo.webp 1152w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/f3efb/python_mongo.webp 1536w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/a0063/python_mongo.webp 1602w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2a822c9f08b8b04d5922ffd06c91e53f/3b721/python_mongo.png 192w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/66595/python_mongo.png 384w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/fe486/python_mongo.png 768w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/d2d74/python_mongo.png 1152w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/e8464/python_mongo.png 1536w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/b5600/python_mongo.png 1602w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2a822c9f08b8b04d5922ffd06c91e53f/fe486/python_mongo.png\"\n            alt=\"image.info\"\n            title=\"image.info\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2>ë„¤ì´ë²„ ì˜í™” ë­í‚¹, ì œëª©, í‰ì  ê°€ì ¸ì˜¤ê¸°</h2>\n<p>ë„¤ì´ë²„ ì˜í™” í˜ì´ì§€ì—ì„œ í¬ë¡¤ë§ì„ í†µí•´ ë°ì´í„°ë¥¼ ì œì–´í•˜ê³ ì í•œë‹¤. <a href=\"https://movie.naver.com/movie/sdb/rank/rmovie.naver?sel=pnt&#x26;date=20210723\" target=\"_blank\" rel=\"nofollow\">ë„¤ì´ë²„ ì˜í™” ë°”ë¡œê°€ê¸°</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/16721f65ca6e2032903fa31ae1f81159/9afce/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.29166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA6cAAAOnAEHlFPdAAACPUlEQVQoz51RQWsTQRjdf2OTVdCWpCRFxNY0hdhLTx7aoxf/g7dWsCA9eqw0IPkBXoTatGkDQi2IgidpqWkkbZLd7M7uzu7sfN+TGcFW8OTAY77hffPmfW+c8oN7uvqwrOcqVf1yc1O/bbX0zs6Objabdv8XDNdqtfT29hu99WpLb6yv6/UXG/r5+9faqTeWsVBfQqlaRXtvD5RJ/PfSgPNubZX311a5tVTnj50OA8xBELCUkvM8tyAiC1NnWcZpmtpdKcVZpv7UcRKz82xlBU+Xl/FkYQHdTgeZUsiyDMxsYWohBCIhQET2nCQJlOlLJXzft7XWOeI4hrPYaOD+/DxKlQo6BwcIggDj8Rie5+Hq6gqnZ2f4dHyMk5MTTMIQiZSWC0WExBvCHw2hiexjVvBxo4F6vY7y7CyODg9tFCrPf0ei9XU+TOBEIE8i69Jwk8kEF/2+dWxWFEVwHtVqaCzWUJ6ZQbf9ARj14YUCSmX2ojLjG71EgL9/Bg3OrUMjmKapjcOMbGAFp6enMVcq4e7tOzja2wXGP+EFAqmUfwvKCHz6FfqyZ3MzgoY34lJKa8AKFgoFvjU1xVNFl7vtXcbwgsdBaDVugpOI+fQL68sf7Ps+ayLOgjGPBgOWaWp74jhmx3VdGBRcF13jcHQBX0TI0tQGbX/7xsh6cA7f8y1nPrDX6yEMw+sMXdcl1y1SoVikw/02IQlpEoYURRHleW4UiQFiGRGdfyM97JMIQ9Jak5SShBC2TylFcRzTL4sC9rtraChFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/16721f65ca6e2032903fa31ae1f81159/a59e9/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.webp 192w,\n/static/16721f65ca6e2032903fa31ae1f81159/0ca9f/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.webp 384w,\n/static/16721f65ca6e2032903fa31ae1f81159/dc9b9/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.webp 768w,\n/static/16721f65ca6e2032903fa31ae1f81159/2c45b/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.webp 1001w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/16721f65ca6e2032903fa31ae1f81159/3b721/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.png 192w,\n/static/16721f65ca6e2032903fa31ae1f81159/66595/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.png 384w,\n/static/16721f65ca6e2032903fa31ae1f81159/fe486/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.png 768w,\n/static/16721f65ca6e2032903fa31ae1f81159/9afce/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.png 1001w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/16721f65ca6e2032903fa31ae1f81159/fe486/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_1.png\"\n            alt=\"image.info\"\n            title=\"image.info\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br/></p>\n<p>ğŸ”½ íŒŒì´ì¬ì— requests, BeautifulSoup, pymongo íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 478px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f6edd6e3b0c0418fb93497b1b88dcd6b/e4b77/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.14583333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA6cAAAOnAEHlFPdAAAC2ElEQVQ4y1WSS28URxSF+weFKAOMX3F3V3e9uqpf9Nix4/g1xuIRsIxxglCiKCTGMWAk46BgRUEIKQvEgn3C1n/DS2+8IauJ1HKP74m6bQZS0qdTdUs60j33Oq/evCm/Xl0rv737fbmytl7eWL094GbNrQ+srH1TLl+7WT5/8bIEMICIBuo8eLyD1iiDp1IMuRzt8QDDnsAYUxhyQwyNBwNGPI5PLozg9p3vUFUVer0ejo+PcXJyMsDZ3XtJ4eQ6RTN3KLQpRUaTijSFQhLjkvyQEwsFMS4Gb2VimpqZJZvm9NffbwnAAGdn9ykFyiLJCxK2gEimEEQd+CoG4xxCR+BKww95A+MCXhBi3GdoXWzj2d4ejo6OcHBwgMPDQzhPfn1KXEVIspRksQw7exd6eh1e8hVEnEIlBZiK4QnT4J6pL20D0zHCKG3q85evfjDMO5MUWYssz6C0gh9wCJMh1BYe13BDBSYNpM0QKANfaPgiav7q+5jPMbOwBGfnyS65LIRNMtI2RZwXiLMCMrIwSQqbZvBDAZcFjcZ53tSjJDmNQ2uIKGqimF/swnm4/ZjOtS5gzPVJaIP0UgfaJgiEqnOFSTN4YZ2bQCA18s4ElDEQkYE0tkHZGIHSmO8uwfn9j+c0MfUl5ha69dSQFROojX0uG3NlE7iMww14Y5gUX8DkHcg4gzQxpDGnhlKdGpZlSb3ev3j37h+aW+jic4+hjqBuMclSmNhAKgku6imHkPkMVDHXIOL8rGUDJuSp4fv96ff7tLG5RddvrNDK6i2anuuSnVymbPoKRcUihcksBWaCpI5IqHpPBQVCUsAlhUKRywKaX1wih4jwnvrU216fF3++xqfeFFh2BaN6EX56Fa6eRntkFK32MFoXhwacbw/j3Gfncakzidqw+ph+v18BqPb396t7936otrcfVFtb9xt99OhhtbH5S/Xz/c3/Udd+/Gmj+u3ZXvUfsr1GFVE9VM8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f6edd6e3b0c0418fb93497b1b88dcd6b/a59e9/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.webp 192w,\n/static/f6edd6e3b0c0418fb93497b1b88dcd6b/0ca9f/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.webp 384w,\n/static/f6edd6e3b0c0418fb93497b1b88dcd6b/3c317/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.webp 478w\"\n              sizes=\"(max-width: 478px) 100vw, 478px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f6edd6e3b0c0418fb93497b1b88dcd6b/3b721/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.png 192w,\n/static/f6edd6e3b0c0418fb93497b1b88dcd6b/66595/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.png 384w,\n/static/f6edd6e3b0c0418fb93497b1b88dcd6b/e4b77/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.png 478w\"\n            sizes=\"(max-width: 478px) 100vw, 478px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f6edd6e3b0c0418fb93497b1b88dcd6b/e4b77/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_2.png\"\n            alt=\"image.info\"\n            title=\"image.info\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br/></p>\n<p>ğŸ”½ ìœ„ íŒ¨í‚¤ì§€ë“¤ì„ import ì‹œí‚¤ê³ , mongoDB clientë¥¼ ë¶ˆëŸ¬ì¤€ë‹¤. database nameì€ â€˜testdbâ€™ë¡œ ì •í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># crawling_movie_list.py</span>\r\n<span class=\"token keyword\">import</span> requests\r\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\r\n<span class=\"token keyword\">from</span> pymongo <span class=\"token keyword\">import</span> MongoClient\r\n\r\nclient <span class=\"token operator\">=</span> MongoClient<span class=\"token punctuation\">(</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">27017</span><span class=\"token punctuation\">)</span>\r\ndb <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>testdb</code></pre></div>\n<p>ğŸ”½ í¬ë¡¤ë§ì„ ìœ„í•´ ê¸°ë³¸ ë¸Œë¼ìš°ì € ì†ì„±ì„ ì¡ì•„ì£¼ê³ , ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36'</span><span class=\"token punctuation\">}</span>\r\ndata <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=pnt&amp;date=20210723'</span><span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ğŸ”½ ìœ„ì—ì„œ ë³¸ ë„¤ì´ë²„ ì˜í™” í˜ì´ì§€ì˜ ì „ì²´ <html> ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¨ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">soup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">,</span> <span class=\"token string\">'html.parser'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ğŸ”½ ì´ì œ ìš°ë¦¬ê°€ í•„ìš”í•œ ì˜í™” ì œëª©ë“¤ì„ ê°€ì ¸ì™€ë³´ì.</p>\n<p>í¬ë¡¤ë§í•œ source ì½”ë“œë¥¼ ë³´ê³  ê°€ì ¸ì˜¬ ë¶€ë¶„ ê·¼ì²˜ë¥¼ ë³´ê³ , ê°€ì¥ ê°€ê¹Œìš´ ë¶€ëª¨ idê°’ì„ ì°¾ì•„ #íƒœê·¸ë¡œ ë¶ˆëŸ¬ì¤€ë‹¤.</p>\n<p>Chrome Browserë¥¼ ì´ìš©í•˜ë©´ í•´ë‹¹ ë¶€ë¶„ì—ì„œ ìš°í´ë¦­ìœ¼ë¡œ copy > copy selector ê¸°ëŠ¥ì„ í†µí•´ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</p>\n<p>ê° ì˜í™” ì •ë³´ëŠ” &#x3C;tr íƒœê·¸> ì•ˆì— ë‹´ê²¨ì ¸ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">tr_tags <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'#old_content > table > tbody > tr'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ğŸ”½ ì´ì œ ì˜í™” ì œëª©ì´ ë‹´ê¸´ &#x3C;a íƒœê·¸> ë¶€ë¶„ì„ ê°€ì ¸ì˜¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> tr <span class=\"token keyword\">in</span> tr_tags<span class=\"token punctuation\">:</span>\r\n    a_tag <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td.title > div > a'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ğŸ”½ ë„¤ì´ë²„ ì˜í™” í˜ì´ì§€ì—ëŠ” 10ê°œ ì˜í™”ë§ˆë‹¤ êµ¬ë¶„ì„ ì´ ì¡´ì¬í•˜ëŠ”ë°, êµ¬ë¶„ì„ ë„ &#x3C;tr íƒœê·¸> ì•ˆì— ë‹´ê²¨ ìˆê¸° ë•Œë¬¸ì—, for loopë¥¼ ëŒë ¤ í•˜ìœ„ ê°’ì„ ë¶ˆëŸ¬ì˜¤ê³ ìí•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ êµ¬ë¶„ì„  ì œì™¸í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.</p>\n<p>êµ¬ë¶„ì„ ì„ ì œì™¸í•˜ê³ , ì˜í™” ì œëª©ì„ ì¶œë ¥í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ 50ê°œì˜ ì˜í™” ì œëª©ì´ ì¶œë ¥ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> a_tag <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\r\n    title <span class=\"token operator\">=</span> a_tag<span class=\"token punctuation\">.</span>text\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span>\r\n    \r\n<span class=\"token operator\">>></span> ê·¸ë¦° ë¶\r\nê°€ë²„ë‚˜ì›€\r\në””ì§€ëª¬ ì–´ë“œë²¤ì²˜ ë¼ìŠ¤íŠ¸ ì—ë³¼ë£¨ì…˜ <span class=\"token punctuation\">:</span> ì¸ì—°\r\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\r\nì‰°ë“¤ëŸ¬ ë¦¬ìŠ¤íŠ¸\r\ní´ë ˆë©˜íƒ€ì¸\r\nì—¬ì¸ì˜ í–¥ê¸°</code></pre></div>\n<p>ğŸ”½ ì œëª©ì´ ì˜ ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤ë©´, ì´ì œ ìˆœìœ„, ì œëª©, í‰ì ì„ ê°€ì ¸ì™€ë³´ì.</p>\n<p>ìˆœìœ„ëŠ” &#x3C;img íƒœê·¸> ì•ˆì˜ alt ì†ì„±ì•ˆì— ë“¤ì–´ìˆê³ ,\r\ní‰ì ì€ &#x3C;td íƒœê·¸> ì¤‘ class=â€œpointâ€ ì¸ íƒœê·¸ì•ˆì— ë“¤ì–´ìˆë‹¤.</p>\n<p>ê²°ê³¼ë¥¼ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ rank, title, stars ìˆœìœ¼ë¡œ ì¶œë ¥í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> a_tag <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\r\n    rank <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td:nth-child(1) > img'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'alt'</span><span class=\"token punctuation\">]</span>\r\n    title <span class=\"token operator\">=</span> a_tag<span class=\"token punctuation\">.</span>text\r\n    stars <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td.point'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text\r\n\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>rank<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> stars<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token operator\">>></span> <span class=\"token number\">01</span> ê·¸ë¦° ë¶ <span class=\"token number\">9.60</span>\r\n<span class=\"token number\">02</span> ê°€ë²„ë‚˜ì›€ <span class=\"token number\">9.59</span>\r\n<span class=\"token number\">03</span> ë””ì§€ëª¬ ì–´ë“œë²¤ì²˜ ë¼ìŠ¤íŠ¸ ì—ë³¼ë£¨ì…˜ <span class=\"token punctuation\">:</span> ì¸ì—° <span class=\"token number\">9.54</span>\r\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\r\n<span class=\"token number\">48</span> ì‰°ë“¤ëŸ¬ ë¦¬ìŠ¤íŠ¸ <span class=\"token number\">9.37</span>\r\n<span class=\"token number\">49</span> í´ë ˆë©˜íƒ€ì¸ <span class=\"token number\">9.37</span>\r\n<span class=\"token number\">50</span> ì—¬ì¸ì˜ í–¥ê¸° <span class=\"token number\">9.37</span></code></pre></div>\n<p>ğŸ”½ ì´ì œ mongoDBì— ë„£ì–´ë³´ì. ì•ì„œ mongoDBì— testdbë¼ëŠ” collectionì„ ë§Œë“¤ì–´ ë‘ì—ˆë‹¤. ì´ì œ ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ moviesë¼ëŠ” í…Œì´ë¸”ì„ ë§Œë“¤ê³ , ê·¸ ì•ˆì— ì˜í™” ëª©ë¡ì„ ë„£ì–´ë³´ì.</p>\n<p>ì˜í™” ìˆœìœ„, ì œëª©, í‰ì ì„ ë”•ì…”ë„ˆë¦¬ë¡œ ë¬¶ì–´ì£¼ê³  insert_one()ì„ í†µí•´ movies í…Œì´ë¸” ì•ˆìœ¼ë¡œ ì¸ì„œíŠ¸ í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> a_tag <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\r\n    rank <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td:nth-child(1) > img'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'alt'</span><span class=\"token punctuation\">]</span>\r\n    title <span class=\"token operator\">=</span> a_tag<span class=\"token punctuation\">.</span>text\r\n    stars <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td.point'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text\r\n\r\n    <span class=\"token comment\"># print(rank, title, stars)</span>\r\n    item <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token string\">'rank'</span><span class=\"token punctuation\">:</span> rank<span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">'title'</span><span class=\"token punctuation\">:</span> title<span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">'stars'</span><span class=\"token punctuation\">:</span> stars\r\n    <span class=\"token punctuation\">}</span>\r\n    db<span class=\"token punctuation\">.</span>movies<span class=\"token punctuation\">.</span>insert_one<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ğŸ”½ MongoDBë¥¼ í™•ì¸í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<p>MongoDBë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ â€˜Robo 3Tâ€™ë¼ëŠ” open-source MongoDB GUIë¥¼ ì‚¬ìš©í–ˆë‹¤. <a href=\"https://robomongo.org/\" target=\"_blank\" rel=\"nofollow\">Robo 3T ë°”ë¡œê°€ê¸°</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 426px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/05e3d1c1503ff0214b3055f2f66e35f3/28e10/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 121.35416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAA6cAAAOnAEHlFPdAAADLklEQVQ4y42Vb2/TMBDG++mREG+AbmXdYB+FjSFgEppo935so3H+Nm3sJI3TpXfoucRpOkAi0iPHjvfrc747b1RWhU2z1GbrzBpjrNbaZlrb7XZr67qW8X/VNI0d+b7PFxeX/OnqM3/9ds0fP17w1ecr/nZ9zZeXn/jm5obnt7c8m815Nt9rPr9tdduOP2YzXiYJj37M5jQ5mdLZh3M6mZ7S9GxKp+cndHI6oQ/n5/T+bEpHxxM6mryj8dExjY8nojfjY3o7PqLXb8fy7cXLV/Tl+juNbL3l5TLlylrOTc5lWfLwqaqKn56euLZ1t0JMxGy3DTdNw7W1bEzBGVRseFTXNefGcLpMOU1TXi6XojhOOE1XnGWaN5uNrK3XmSB3ux0TkQjPer3ioizkfWSrio0xrDzF3sLjxWLBnufxr18LDoJAvgG4SlN+fHxkGAAQruEQMkbLDwuw6oC+UgKClGrhYRiyNobLTcmr1YqRQKwhEuzDO0BGa9n3zKEnEGzEH2IMghYIh0mS8Hq97h06IWwAjQNWw5A91QEVLxYeR2HUA3GGP3/eCVhS052hAM0AaCVLh0DVhY8zHDrE+W632w60Twwc5nm+B2IS+L6ECgHkK5+jKGZjcimdOI57F0jEEIgq6YH4dUzCIBQQhMP2/UAgziHOD/Msy/oaHQL7kLFZay2OJGyl+qTAIb4VRSHAh4cHvr+/l+9Yd1DA3HzkfsXV1FAuizgWmTdN2zV1LfOhS7dXHMJBEsUSEoQExFEs3YNvAMIh1iEAhx2DPZA4xAvsBghZqV6oSZcIJCWKIo7CUBzuM01/hnwA9AZAr6tDrQXoyqbtjsOelk7ZA3PWWcZK+riV8vet53oZdx3mh+H+C6g1q8WgsLtOCcOoByJ8jM9vG9cpfR3i/muB3mGnoPWiPdBda5j/ARx2StmdIepQalG1nYJxmBTAUIdJHP/FITqly3Ke56S1psAPRL4fUBiGMiZxQsYYqqqKkiShu7s7KsuS2vLbP7kxVBSFrLdZzrLeneo6BSNC1trIv4W0u2ARmmsEd4W111e7jk5pdrtd868H35yezw/U7BqwfgMZdRRm4i9lZwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/05e3d1c1503ff0214b3055f2f66e35f3/a59e9/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.webp 192w,\n/static/05e3d1c1503ff0214b3055f2f66e35f3/0ca9f/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.webp 384w,\n/static/05e3d1c1503ff0214b3055f2f66e35f3/039b3/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.webp 426w\"\n              sizes=\"(max-width: 426px) 100vw, 426px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/05e3d1c1503ff0214b3055f2f66e35f3/3b721/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.png 192w,\n/static/05e3d1c1503ff0214b3055f2f66e35f3/66595/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.png 384w,\n/static/05e3d1c1503ff0214b3055f2f66e35f3/28e10/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.png 426w\"\n            sizes=\"(max-width: 426px) 100vw, 426px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/05e3d1c1503ff0214b3055f2f66e35f3/28e10/%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8E%98%EC%9D%B4%EC%A7%80_%ED%81%AC%EB%A1%A4%EB%A7%81_3.png\"\n            alt=\"image.info\"\n            title=\"image.info\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br/></p>\n<p>ğŸ”½ ì „ì²´ ì½”ë“œë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> requests\r\n<span class=\"token keyword\">from</span> bs4 <span class=\"token keyword\">import</span> BeautifulSoup\r\n<span class=\"token keyword\">from</span> pymongo <span class=\"token keyword\">import</span> MongoClient\r\n\r\nclient <span class=\"token operator\">=</span> MongoClient<span class=\"token punctuation\">(</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">27017</span><span class=\"token punctuation\">)</span>\r\ndb <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>testdb\r\n\r\nheaders <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'User-Agent'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) '</span>\r\n                         <span class=\"token string\">'Chrome/73.0.3683.86 Safari/537.36'</span><span class=\"token punctuation\">}</span>\r\ndata <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=pnt&amp;date=20210723'</span><span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\"># í•´ë‹¹ í˜ì´ì§€ì˜ Elements ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¤ì</span>\r\nsoup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">,</span> <span class=\"token string\">'html.parser'</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\"># ì˜í™” ì œëª©ë“¤ ê°€ì ¸ì˜¤ê¸° (.select)</span>\r\ntr_tags <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">'#old_content > table > tbody > tr'</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">for</span> tr <span class=\"token keyword\">in</span> tr_tags<span class=\"token punctuation\">:</span>\r\n    <span class=\"token comment\"># ì±… ì œëª©ì´ ë‹´ê¸´ &lt;a íƒœê·¸> ë¶€ë¶„ì„ ê°€ì ¸ì˜¤ì</span>\r\n    a_tag <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td.title > div > a'</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token comment\"># week3-3 ë¶€ë¶„ë“¤ì´ None ì²˜ë¦¬ë˜ì–´ ë“¤ì–´ì˜¨ë‹¤</span>\r\n    <span class=\"token comment\"># None ë¶€ë¶„ë“¤ì„ í•„í„°í•˜ê³  ì œëª©ë“¤ ê°€ì ¸ì˜¤ì</span>\r\n    <span class=\"token keyword\">if</span> a_tag <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\r\n\r\n        <span class=\"token comment\"># rank, title, evaluation í™•ì¸í•˜ê¸°</span>\r\n        <span class=\"token comment\"># rank ê°’ì´ ë“¤ì–´ìˆëŠ” ë¶€ë¶„ì¸ &lt;img íƒœê·¸>ë¥¼ ê°€ì ¸ì˜¤ì</span>\r\n        <span class=\"token comment\"># rank ê°’ì€ 'alt' ì†ì„±ì— ë‹´ê²¨ìˆë‹¤</span>\r\n        rank <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td:nth-child(1) > img'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'alt'</span><span class=\"token punctuation\">]</span>\r\n        title <span class=\"token operator\">=</span> a_tag<span class=\"token punctuation\">.</span>text\r\n        stars <span class=\"token operator\">=</span> tr<span class=\"token punctuation\">.</span>select_one<span class=\"token punctuation\">(</span><span class=\"token string\">'td.point'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text\r\n\r\n        item <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string\">'rank'</span><span class=\"token punctuation\">:</span> rank<span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'title'</span><span class=\"token punctuation\">:</span> title<span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'stars'</span><span class=\"token punctuation\">:</span> stars\r\n        <span class=\"token punctuation\">}</span>\r\n        db<span class=\"token punctuation\">.</span>movies<span class=\"token punctuation\">.</span>insert_one<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"[Python] ë„¤ì´ë²„ ì˜í™” í˜ì´ì§€ í¬ë¡¤ë§","summary":"pymongoë¥¼ ì´ìš©í•œ MongoDB ë‹¤ë£¨ê¸°","date":"2021.07.25.","categories":["Database","Python","MongoDB","Sparta"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAKCAYAAABWiWWfAAAACXBIWXMAABcRAAAXEQHKJvM/AAABNElEQVQoz42Ry0sCYRTFrwZBRGTUwsc8MtE0nXGcyUdIvhJ1mNAoChfRomWL/oBo26Zl//AvnMEYmdIWh+/c+x3Od757JWbrhCE1jZgT4naU/1b7vfDlUiCGilg6cefYr+N2wFc0IR4x+2lYGgkvT7ypIWdJxEwjRgqpJAMDS0Wqyq+Gq2aOjpRVzj8dck91Cl4PzW2Rn3YozLpY8wmjl0dKtwPESPuJNybbn+Q5HBQ58Tokhw6VuyG1uUt6VCd73SYzbiCWsn5m/mlriKlx5D2QGtfZaeY46Bjo7gWJyzJ77RJiZv7xzQVqCmKXeP965e3jitLNiP7zPcVZD2fucjrtsuVk129zJV1VI9NX2G0t6izbjVww+CVCG10/s6XQDOYXfEWNaDYmC7AQ6pFN/fVouPcNmVoGhTLEEAUAAAAASUVORK5CYII=","aspectRatio":1.941747572815534,"src":"/static/2a822c9f08b8b04d5922ffd06c91e53f/c019b/python_mongo.png","srcSet":"/static/2a822c9f08b8b04d5922ffd06c91e53f/a9f05/python_mongo.png 200w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/23840/python_mongo.png 400w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/c019b/python_mongo.png 800w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/00376/python_mongo.png 1200w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/03b64/python_mongo.png 1600w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/7a321/python_mongo.png 1602w","srcWebp":"/static/2a822c9f08b8b04d5922ffd06c91e53f/210fa/python_mongo.webp","srcSetWebp":"/static/2a822c9f08b8b04d5922ffd06c91e53f/8444f/python_mongo.webp 200w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/42fc5/python_mongo.webp 400w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/210fa/python_mongo.webp 800w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/3058d/python_mongo.webp 1200w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/747be/python_mongo.webp 1600w,\n/static/2a822c9f08b8b04d5922ffd06c91e53f/e0279/python_mongo.webp 1602w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}}]}},"pageContext":{"slug":"/ë„¤ì´ë²„_ì˜í™”_í˜ì´ì§€_í¬ë¡¤ë§/"}},"staticQueryHashes":[]}